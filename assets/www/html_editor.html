<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="viewport" content="width=device-width, user-scalable=no" />
	<title>Just Put</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<!-- ASSETS -->
	<svg display="none">
		<symbol viewBox="0 0 266 338" id="icon-copy">
			<path class="ct0" d="M229.1,75H189V35.7c0-10.9-8.8-19.7-19.7-19.7H35.7C24.8,16,16,24.8,16,35.7v212.5c0,10.9,8.8,19.7,19.7,19.7
	h40.1v34.8c0,10.9,8.8,19.7,19.7,19.7h133.5c10.9,0,19.7-8.8,19.7-19.7V94.7C248.9,83.8,240,75,229.1,75z" />
			<path class="ct0" d="M229.1,322.5H95.6c-10.9,0-19.7-8.8-19.7-19.7V94.7c0-10.9,8.8-19.7,19.7-19.7h133.5
	c10.9,0,19.7,8.8,19.7,19.7v208.1C248.9,313.7,240,322.5,229.1,322.5z" />
		</symbol>
		<symbol viewBox="0 0 197 245" id="icon-paste">
			<style type="text/css">
				.ct0 {
					fill: none;
					stroke: #ffffff;
					stroke-width: 21;
					stroke-linecap: round;
					stroke-linejoin: round;
					stroke-miterlimit: 10;
				}

				.ct1 {
					fill: white;
				}
			</style>
			<path class="ct0" d="M151.6,33.7h-18.1v-2.2c0-10.8-8.7-19.5-19.5-19.5H81.7C71,12,62.3,20.7,62.3,31.4v2.2H45.9
			C27.8,33.7,13,48.4,13,66.5v133.2c0,18.2,14.7,32.9,32.9,32.9h105.7c18.2,0,32.9-14.7,32.9-32.9V66.5
			C184.5,48.4,169.8,33.7,151.6,33.7z" />
			<path class="ct0" d="M114.1,55.3H81.7c-10.8,0-19.5-8.7-19.5-19.5v-4.4C62.3,20.7,71,12,81.7,12h32.3c10.8,0,19.5,8.7,19.5,19.5
			v4.4C133.5,46.6,124.8,55.3,114.1,55.3z" />
			<circle class="ct1" cx="54.5" cy="117.7" r="14.1" />
			<path class="ct1" d="M152.4,131.8h-60c-6.8,0-12.4-5.6-12.4-12.4v-3.3c0-6.8,5.6-12.4,12.4-12.4h60c6.8,0,12.4,5.6,12.4,12.4v3.3
			C164.8,126.2,159.3,131.8,152.4,131.8z" />
			<circle class="ct1" cx="54.5" cy="168.7" r="14.1" />
			<path class="ct1" d="M152.4,182.8h-60c-6.8,0-12.4-5.6-12.4-12.4v-3.3c0-6.8,5.6-12.4,12.4-12.4h60c6.8,0,12.4,5.6,12.4,12.4v3.3
			C164.8,177.2,159.3,182.8,152.4,182.8z" />
		</symbol>
		<symbol viewBox="0 0 595 756" id="icon-delete">
			<style type="text/css">
				.dt0 {
					fill: none;
					stroke: #ffffff;
					stroke-width: 46;
					stroke-miterlimit: 10;
				}

				.dt1 {
					fill: none;
					stroke: #ffffff;
					stroke-width: 46;
					stroke-linecap: round;
					stroke-linejoin: round;
					stroke-miterlimit: 10;
				}
			</style>
			<path class="dt0" d="M521.7,119.5H74.2c-28.5,0-51.6,24.6-51.6,54.9v0c0,30.3,23.1,54.9,51.6,54.9h6.6c3.1,0,5.6,2.7,5.6,5.9v436.5
			c0,32.8,25,59.3,55.7,59.3h311.8c30.8,0,55.7-26.6,55.7-59.3V235.3c0-3.3,2.5-5.9,5.6-5.9h6.6c28.5,0,51.6-24.6,51.6-54.9v0
			C573.3,144.1,550.2,119.5,521.7,119.5z" />
			<path class="dt0" d="M530.2,229.4H65.7c-23.8,0-43.1-19.3-43.1-43.1v-23.7c0-23.8,19.3-43.1,43.1-43.1h464.5
			c23.8,0,43.1,19.3,43.1,43.1v23.7C573.3,210.1,554,229.4,530.2,229.4z" />
			<path class="dt0" d="M367.5,119.5H230.9c-8.7,0-15.8-7.1-15.8-15.8V40.5c0-8.7,7.1-15.8,15.8-15.8h136.6c8.7,0,15.8,7.1,15.8,15.8
			v63.2C383.3,112.4,376.2,119.5,367.5,119.5z" />
			<line class="dt1" x1="297.9" y1="358.1" x2="297.9" y2="642.8" />
			<line class="dt1" x1="402.7" y1="358.1" x2="402.7" y2="642.8" />
			<line class="dt1" x1="190.6" y1="358.1" x2="190.6" y2="642.8" />
		</symbol>
		<symbol viewBox="0 0 582 565" id="icon-edit">
			<style type="text/css">
				.et0 {
					fill: none;
					stroke: #000;
					stroke-width: 60;
					stroke-linecap: round;
					stroke-miterlimit: 10;
				}

				.et1 {
					fill: none;
					stroke: #000;
					stroke-width: 50;
					stroke-linecap: round;
					stroke-miterlimit: 10;
				}
			</style>
			<path class="et0" d="M300.7,36.8H147.1C86,36.8,36.4,86.5,36.4,147.6v269.7c0,61.5,49.9,111.4,111.4,111.4h269
						c61.5,0,111.4-49.9,111.4-111.4V306" />
			<path class="et1" d="M537.2,66.5l-22-22c-16.6-16.6-43.5-16.6-60.1,0L267.8,231.8c-4.6,4.6-7.9,10-10,15.7
						c-2.2,2.8-5.3,11.5-6.3,15.3l-12.8,47.9c-5.4,20.3,13.1,38.8,33.4,33.4l53.1-14.2c4.8-1.3,8.9-3.7,12.2-6.8c0.6-0.5,1.2-1,1.9-1.3
						c3.8-2,7.4-4.5,10.6-7.8l187.3-187.3C553.8,110,553.8,83.1,537.2,66.5z" />
		</symbol>
		<symbol viewBox="0 0 150 163" id="icon-start">
			<style type="text/css">
				.st0 {
					fill: #ffffff;
				}
			</style>
			<path class="st0" d="M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275
			c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z" />
		</symbol>
		<symbol viewBox="0 0 587 592" id="icon-object">
			<path class="st0" d="M204.9,415.9h-83.8c-32.7,0-53.5-34.9-38-63.7l50.2-93.3c5.3-9.9-1.8-21.9-13.1-21.9H67.6c-31.6,0-57.4,25.8-57.4,57.4
	v210.9c0,31.6,25.8,57.4,57.4,57.4h209l15,0C243.2,530.3,210,477.1,204.9,415.9z" />
			<path class="st0"
				d="M204.2,399.5c0-108.3,87.8-196,196-196c7.6,0,15.1,0.4,22.5,1.3c1.6,0.2,2.7-1.5,1.9-2.9L328.8,23.6
	c-11.4-21.3-42-21.3-53.4,0L96.2,356.8c-10.9,20.2,3.8,44.7,26.7,44.7h79.4C203.3,401.5,204.2,400.6,204.2,399.5L204.2,399.5z" />
			<circle class="st0" cx="400.2" cy="399.5" r="182.2" />
		</symbol>
		<symbol viewBox="0 0 564 718" id="icon-properties">
			<style type="text/css">
				.prt1 {
					fill: #ffffff;
				}
			</style>
			<path class="prt1" d="M544.9,575.8L374.4,280.5c-2.5-4.3-3.8-9.2-3.8-14.2V160.8c0-1.2-1-2.1-2.1-2.1H197.9c-1.2,0-2.1,1-2.1,2.1
		v102.3c0,5-1.3,9.9-3.8,14.2L19.6,575.8C-14,633.9,28,706.6,95.1,706.6h374.4C536.5,706.6,578.5,633.9,544.9,575.8z M136,458.4
		l97.9-170c2.5-4.3,3.8-9.2,3.8-14.1V213h90.2l0,63.2c0,4.8,1.2,9.5,3.5,13.7l92.8,168.5H136z" />
			<path class="prt1" d="M406.5,213h-251c-9.4,0-17-7.6-17-17v-32.1c0-9.4,7.6-17,17-17h251c9.4,0,17,7.6,17,17V196
		C423.5,205.4,415.9,213,406.5,213z" />
			<circle class="prt1" cx="322.1" cy="81.8" r="36.8" />
			<circle class="prt1" cx="408.2" cy="31" r="25.5" />
		</symbol>
		<symbol viewBox="0 0 525 554" id="icon-control">
			<style type="text/css">
				.crt0 {
					fill: none;
					stroke: #ffffff;
					stroke-width: 28;
					stroke-miterlimit: 10;
				}

				.crt1 {
					fill: none;
					stroke: #ffffff;
					stroke-width: 28;
					stroke-linecap: round;
					stroke-miterlimit: 10;
				}

				.crt2 {
					fill: none;
					stroke: #ffffff;
					stroke-width: 45;
					stroke-linecap: round;
					stroke-miterlimit: 10;
				}

				.crt3 {
					fill: none;
					stroke: #ffffff;
					stroke-width: 38;
					stroke-linecap: round;
					stroke-miterlimit: 10;
				}
			</style>
			<path class="crt0" d="M281.6,261l57,31l-57,31c-13.1,7.1-28.9,6.9-41.8-0.7L187.9,292l51.9-30.4C252.7,254.1,268.5,253.9,281.6,261z
	" />
			<path class="crt1" d="M328.2,289.8h99.7c4.7,0,8.5,3.8,8.5,8.5v39.4" />
			<path class="crt1" d="M198.6,290.8H98.5c-4.7,0-8.5,3.8-8.5,8.5v39.4" />
			<line class="crt1" x1="263.3" y1="252.3" x2="263.3" y2="159.6" />
			<path class="crt1" d="M743.1,332" />
			<circle class="prt1" cx="263.3" cy="68.5" r="59.1" />
			<line class="crt2" x1="33.3" y1="403.2" x2="146.7" y2="525.2" />
			<line class="crt2" x1="146.7" y1="403.2" x2="33.3" y2="525.2" />
			<line class="crt3" x1="436.5" y1="525.5" x2="499.6" y2="402.9" />
			<line class="crt3" x1="436.5" y1="525.5" x2="373.2" y2="459.8" />
		</symbol>
		<symbol viewBox="0 0 512 512" id="icon-data">
			<style>
				.dat0 {
					fill: #ffffff;
				}
			</style>
			<path class="dat0" d="M460.8,102.4C460.8,46.9,367.02,0,256,0C144.95,0,51.2,46.9,51.2,102.4v51.2C51.2,209.1,144.95,256,256,256
			c111.02,0,204.8-46.9,204.8-102.4V102.4z M256,435.2c-111.05,0-204.8-46.9-204.8-102.4v76.8C51.2,465.1,144.95,512,256,512
			c111.02,0,204.8-46.9,204.8-102.4v-76.8C460.8,388.3,367.02,435.2,256,435.2z" />
			<path class="dat0" d="M460.8,204.8c0,55.5-93.77,102.4-204.8,102.4c-111.05,0-204.8-46.9-204.8-102.4v76.8C51.2,337.1,144.95,384,256,384
			c111.02,0,204.8-46.9,204.8-102.4V204.8z" />
		</symbol>
		<symbol viewBox="0 0 230 206" id="icon-settings">
			<path style="fill: #ffffff;" d="M226,89.3l-43.6-75.5C177.5,5.2,168.4,0,158.6,0H71.4c-9.8,0-18.9,5.2-23.8,13.7L4,89.3c-4.9,8.5-4.9,19,0,27.5l43.6,75.5
			c4.9,8.5,14,13.7,23.8,13.7h87.2c9.8,0,18.9-5.2,23.8-13.7l43.6-75.5C230.9,108.2,230.9,97.8,226,89.3z M115,145
			c-23.2,0-42-18.8-42-42c0-23.2,18.8-42,42-42s42,18.8,42,42C157,126.2,138.2,145,115,145z" />
		</symbol>
		<symbol viewBox="0 0 24 24" id="icon-goback">
			<path style="fill: #ffffff;" fill="currentColor"
				d="M15.125 21.1L6.7 12.7q-.15-.15-.212-.325q-.063-.175-.063-.375t.063-.375q.062-.175.212-.325l8.425-8.425q.35-.35.875-.35t.9.375q.375.375.375.875t-.375.875L9.55 12l7.35 7.35q.35.35.35.862q0 .513-.375.888t-.875.375q-.5 0-.875-.375Z" />
	</svg>
	</svg>

	<header>
		<div class="fix where-addblock color-green" style="z-index: 2;">
			<button title="Go back" onclick="GoToAnotherHome.postMessage('goBack');"
				style="left: 0; width: 40px; padding: 0 0 0 18px;">
				<svg width="30" height="30">
					<use xlink:href="#icon-goback"></use>
				</svg>
			</button>
			<span style="color: #fff; margin-left: 50px;" id="header-text"> loading... </span>
			<button onclick="GoToAnotherHome.postMessage('goToSettings')">
				<svg width="27" height="27">
					<use xlink:href="#icon-settings"></use>
				</svg>
			</button>
		</div>
		<div class="where-addblock">
			<nobr><span>Mage by Gafum </span></nobr>
		</div>
	</header>


	<ul id="listEditor">
		<!-- content -->
	</ul>

	<div class="fab-container">
		<div class="iconbutton color-green" id="main-btn-label">
			<span>+</span>
		</div>
		<ul class="options">
			<li class="btn-label" id="btn-label1" data-mycolor="#96b38e">
				<span>Propertie</span>
				<div class="iconbutton color-grey-green">
					<span class="icon-fab">
						<svg>
							<use xlink:href="#icon-properties"></use>
						</svg>
					</span>
				</div>
			</li>
			<li class="btn-label" id="btn-label2" data-mycolor="#f59073">
				<span>Control</span>
				<div class="iconbutton color-orange">
					<span class="icon-fab">
						<svg>
							<use xlink:href="#icon-control"></use>
						</svg>
					</span>
				</div>
			</li>
			<li class="btn-label" id="btn-label3" data-mycolor="#913e5f">
				<span>Object</span>
				<div class="iconbutton color-purple">
					<span class="icon-fab">
						<svg>
							<use xlink:href="#icon-object"></use>
						</svg>
					</span>
				</div>
			</li>
			<li class="btn-label" id="btn-label4" data-mycolor="#eb4464">
				<span>Data</span>
				<div class="iconbutton color-red">
					<span class="icon-fab">
						<svg>
							<use xlink:href="#icon-data"></use>
						</svg>
					</span>
				</div>
			</li>
			<li class="btn-label" id="btn-label5" onclick="codeCreator();">
				<span>Start</span>
				<div class="iconbutton color-green">
					<span class="icon-fab">
						<svg style="max-height: 100%">
							<use xlink:href="#icon-start"></use>
						</svg>
					</span>
				</div>
			</li>
		</ul>
	</div>

	<!-- ADD BLOCK -->
	<div id="addblocks">
		<div class="fix where-addblock">
			<span>Add block </span>
			<button onclick="closeAddBlockParams();">x</button>
		</div>
		<div class="where-addblock">
			<nobr><span>Cats are afraid of water</span></nobr>
		</div>
		<ul id="listAddBlock">
			<!-- content -->
		</ul>
	</div>

	<!-- EDIT PARAMS -->
	<div id="editparams">
		<div id="where">
			<div id="inner-where"></div>
			<button onclick="closeEditParams();">x</button>
		</div>
		<div id="result"></div>
		<div id="btns">
			<div class="mainBtn">
				<button onclick="tapofbtn('@0Code**');" class="big-text">Code</button>
				<button onclick="tapofbtn('(');">(</button>
				<button onclick="tapofbtn(')');">)</button>
				<button onclick="tapofbtn('@0delete**');">⌫</button>
				<button onclick="tapofbtn('1');">1</button>
				<button onclick="tapofbtn('2');">2</button>
				<button onclick="tapofbtn('3');">3</button>
				<button onclick="tapofbtn('+');">+</button>
				<button onclick="tapofbtn('4');">4</button>
				<button onclick="tapofbtn('5');">5</button>
				<button onclick="tapofbtn('6');">6</button>
				<button onclick="tapofbtn('-');">-</button>
				<button onclick="tapofbtn('7');">7</button>
				<button onclick="tapofbtn('8');">8</button>
				<button onclick="tapofbtn('9');">9</button>
				<button onclick="tapofbtn('*');">*</button>
				<button onclick="tapofbtn('.');">.</button>
				<button onclick="tapofbtn('0');">0</button>
				<button onclick="tapofbtn(',');">,</button>
				<button onclick="tapofbtn('/');">/</button>
				<button onclick="tapofbtn('@0Text**');" class="big-text">Text</button>
				<button onclick="tapofbtn('@0left**');">&#60;- </button>
				<button onclick="tapofbtn('@0right**');">-&#62;</button>
				<button onclick="tapofbtn('@0Ok**');">Ok</button>
			</div>
			<ul class="formuls" id="tree">
				<li class="mainLi">
					Data
					<ul id="dataList">
						<li style="color: #777" onclick="createVarieble(true)">
							+Create
						</li>
					</ul>
				</li>
				<li class="mainLi">
					Math
					<ul>
						<li onclick="tapOfFunctionBtn(2, 'Math.pow', '(', ',', ')');">
							pow
						</li>
						<li onclick="tapOfFunctionBtn(0, 'Math.random()');">random</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.sqrt', '(', ')');">sqrt</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.sin', '(', ')');">sin</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.cos', '(', ')');">cos</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.tan', '(', ')');">tan</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.asin', '(', ')');">
							asin
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.acos', '(', ')');">
							acos
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.atan', '(', ')');">
							atan
						</li>
						<li onclick="tapOfFunctionBtn(2, 'Math.atan2', '(', ',' ,')');">
							atan2
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.max', '(', ')');">max</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.min', '(', ')');">min</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.abs', '(', ')');">abs</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.sign', '(', ')');">
							sign
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.ceil', '(', ')');">
							ceil
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.floor', '(', ')');">
							floor
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.round', '(', ')');">
							round
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.trunc', '(', ')');">
							trunc
						</li>
						<li onclick="tapOfFunctionBtn(2, 'getModule', '(', ',', ')');">
							getModule
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.log', '(', ')');">
							log
						</li>
						<li onclick="tapOfFunctionBtn(1, 'Math.log10', '(', ')');">
							log10
						</li>
						<li onclick="tapOfFunctionBtn(0, 'Math.PI');">PI</li>
					</ul>
				</li>
				<li style="font-size: 14px" class="mainLi">
					Properties
					<ul>
						<li onclick="tapofbtn('.x');">x</li>
						<li onclick="tapofbtn('.y');">y</li>
						<li onclick="tapofbtn('.width');">width</li>
						<li onclick="tapofbtn('.height');">height</li>
						<li onclick="tapofbtn('.color');">color</li>
						<li onclick="tapofbtn('.radius');">radius</li>
						<li onclick="tapofbtn('.direction');">direction</li>
						<li onclick="tapofbtn('.startAngle');">startAngle</li>
						<li onclick="tapofbtn('.endAngle');">endAngle</li>
						<li onclick="tapofbtn('DisplayWidth');">DisplayWidth</li>
						<li onclick="tapofbtn('DisplayHeight');">DisplayHeight</li>
					</ul>
				</li>
				<li class="mainLi">
					Logic
					<ul>
						<li onclick="tapofbtn('=');">SET</li>
						<li onclick="tapofbtn('==');">==</li>
						<li onclick="tapofbtn('!==');">!==</li>
						<li onclick="tapofbtn('===');">===</li>
						<li onclick="tapofbtn('>');">&#62;</li>
						<li onclick="tapofbtn('<');">&#60;</li>
						<li onclick="tapofbtn('>=');">&#62;=</li>
						<li onclick="tapofbtn('<=');">&#60;=</li>
						<li onclick="tapofbtn('&&');">and</li>
						<li onclick="tapofbtn('||');">or</li>
						<li onclick="tapofbtn('!');">no</li>
						<li onclick="tapofbtn('true');">true</li>
						<li onclick="tapofbtn('false');">false</li>
						<li onclick="tapofbtn('undefined');">undefined</li>
					</ul>
				</li>
				<li class="mainLi">Function
					<ul>
						<li onclick="tapOfFunctionBtn(1,'showMessege(',')');">showMessege</li>
						<li onclick="tapOfFunctionBtn(1,'prompt(',')');">prompt</li>
						<li onclick="tapOfFunctionBtn(1,'confirm(',')');">confirm</li>
						<li onclick="tapOfFunctionBtn(2,'joinStrings(',',',')');">joinStrings</li>
						<li onclick="tapOfFunctionBtn(1,'degToRadian(',')');">degToRadian</li>
						<li onclick="tapOfFunctionBtn(2,'randomInteger(',',',')');">randomInteger</li>
						<li onclick="tapOfFunctionBtn(2,'colisionBetween(',',',')');">colisionBetween</li>
						<li onclick="tapOfFunctionBtn(2,'distanceBetween(',',',')');">distanceBetween</li>
						<li onclick="tapofbtn('.length');">length</li>
						<li onclick="tapOfFunctionBtn(1,'.indexOf(',')');">indexOf</li>
						<li onclick="tapOfFunctionBtn(1,'.lastIndexOf(',')');">lastIndexOf</li>
						<li onclick="tapOfFunctionBtn(1,'.includes(',')');">includes</li>
						<li onclick="tapOfFunctionBtn(1,'.isArray(',')');">isArray</li>
						<li onclick="tapOfFunctionBtn(1,'Object.keys(',')');">Object.keys</li>
					</ul>
				</li>
				<li class="mainLi">
					My func
					<ul id="functList">
						<li style="color: #777" onclick="createVarieble(false)">
							+Create
						</li>
					</ul>
				</li>
				<li class="mainLi">
					...
					<ul>
						<li onclick="tapOfFunctionBtn(1,'\${','}');">CodeInHTML</li>
						<li onclick="tapOfFunctionBtn(1,' ? ',' : ');">ternary</li>
						<li style="display: flex; justify-content: center; align-items:center; gap: 5px">
							<button onclick="addColor();"
								style="padding: 4px 7px; font-size: 16px; border-radius: 7px;border: none; background-color: #191919; color: #fff; text-align: center; outline: none;">
								Add
							</button>
							<input type="color" id="color-picker" value="#30c731">
						</li>
						<li onclick="tapofbtn('[');">[</li>
						<li onclick="tapofbtn(']');">]</li>
						<li onclick="tapofbtn('{');">{</li>
						<li onclick="tapofbtn('}');">}</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>


	<dialog id="modal-window">
		<form method="dialog">
			<h1></h1>
			<div class="input-text-container" style="margin-bottom: 10px;">
				<input required="" id="modal-input" name="modal-input" autocomplete="off">
				<label for="modal-input"></label>
			</div>
			<div id="inner-modal-window">
				<button type="button" onclick="modalInput.close()">
					CANCEL
				</button>
				<button id='ok-btn'>
					OK
				</button>
			</div>

		</form>
	</dialog>

	<script>
		/* ====== Data */
		const objectColor = "#913e5f"
		const controlColor = "#f59073"
		const propertiesColor = "#96b38e"
		const dataColor = "#eb4464"

		let ListOfElements = [{
			id: 0, // PROPERTIES
			code: "//Coment",
			text: "Coment",
			color: propertiesColor,
			listChengers: ["Coment"],
			standartParameter: [["Coment"]]
		}]

		const tapElements = ["13", "15", "24", "25"]
		let listOfData = []
		let listOfFunct = []
		let copyList = []
		let projectName = ''
	</script>

	<script src="sortable.js"></script>

	<script>

		/* ============================================ Code for Editor and addblocks */
		const ListInEditor = document.querySelector("#listEditor")
		const addblocks = document.querySelector("#addblocks")
		const mainBtnLabel = document.querySelector("#main-btn-label")
		const ListAddBlock = document.querySelector("#listAddBlock")
		const btnStart = document.querySelector("#btn-label5")
		const body = document.querySelector("body")

		mainBtnLabel.onclick = () => {
			mainBtnLabel.classList.toggle("active")
		}

		document.querySelectorAll('.btn-label').forEach((i, index) => {
			if (index === document.querySelectorAll('.btn-label').length - 1) {
				return
			}
			addblocks.scrollTo(0, 0)
			i.onclick = () => {
				let resultList = ListOfElements.filter((element) => element.color == i.dataset.mycolor)
				ListAddBlock.innerHTML = ""
				resultList.forEach((j) => {
					ListAddBlock.innerHTML += `
							<li class="ElementsInEditor" onclick="addBlock(${j.id});">
								<span style="color: ${ListOfElements[j.id].color};">
								${j.text}
								</span>
							</li>`

				})
				addblocks.classList.add("active")
				body.classList.add("no-scroll")
				addblocks.querySelector(".where-addblock").style.backgroundColor = i.dataset.mycolor
				mainBtnLabel.classList.remove("active")
			}
		})

		/* Start Project       =========================== */
		window.onload = () => PageIsReady.postMessage('Hi. Page is Ready')

		function renderList(data, nameOfProject) {
			let result = data
			if (!result) return
			if (result[0]) {
				listOfData = [...result[0].data]
				listOfFunct = [...result[0].functions]
			}
			projectName = nameOfProject;
			result.shift()
			result.forEach((i, index) => {
				if (i.id.startsWith('AMain') || i.id.startsWith('CONTI')) {
					ListInEditor.innerHTML += `
									<li class="ElementsInEditor ${i.id.startsWith('AMain') ? 'finish' : ''}" style="padding-left: ${i.padding}px;" data-id="${i.id}" data-parameter='"${i.parameter}"'>
										<div class="innerOfElement">
											<span style="margin-left: 38px; color: ${ListOfElements[i.id.slice(6)].color};" class="elementText">
												${ListOfElements[i.id.slice(6)].secondArgument[i.id[5]].text}
											</span>
										</div >
									</li >`
					return
				}

				/* MAIN Element ====================================================> */
				let innerTextOfElement = CreateInnerTextOfElement(i.id, i.parameter);
				ListInEditor.innerHTML += `
					<li class="ElementsInEditor ${ListOfElements[i.id].secondArgument ? "start" : ""}" style="padding-left: ${i.padding}px; ${ListOfElements[i.id].isfunction && index != 0
						? "margin-top: 15px;"
						: ""
					}" data-id="${i.id}" data-parameter='${JSON.stringify(i.parameter)}'>
									<div class="innerOfElement">
										<div class="my-handle" onclick="showBtnElement(event);">
											<span></span>
											<div class="my-handle-inner"></div>
										</div>
										<div class="btn-in-element">
											<div class="btn-delete" onclick="deleteElement(event);">
												<svg class="icon-delete-editor">
													<use xlink:href="#icon-delete"></use>
												</svg>
											</div>
											<div class="btn-delete" onclick="copyElement(event);">
												<svg class="icon-delete-editor">
													<use xlink:href="#icon-copy"></use>
												</svg>
											</div>
											<div class="btn-delete" onclick="pasteElement(event);">
												<svg class="icon-delete-editor">
													<use xlink:href="#icon-paste"></use>
												</svg>
											</div>
										</div>
										<span style="color:${ListOfElements[i.id].color};" class="elementText">
										${innerTextOfElement.replaceAll("<", "&#60;").replaceAll(">", "&#62;")}
										</span>
									</div>
									<span class="EditParameterBtn" onclick="changeParams(event);">
										<svg class="icon-delete-editor">
											<use xlink:href="#icon-edit"></use>
										</svg>
							</span>
								</li>`
			})
			document.querySelector('#header-text').innerHTML = nameOfProject;
		}

		function addBlock(element) {
			if (tapElements.includes(String(element))) {
				ListOfElements[element].standartParameter[1] = ["A" + Date.now() + Math.random().toString(32).slice(4)]
			}
			let adderElement = Math.floor((document.documentElement.scrollTop + window.innerHeight / 2) / (40 + listOfFunct.length * 2)) - 2
			if (ListInEditor.children.length * 40 < window.innerHeight * 0.7) {
				adderElement = ListInEditor.children.length - 1
			}
			let li = ""
			if (ListInEditor.children.length) {
				li = document.createElement("li")
				ListInEditor.children[adderElement].after(li)
			} else {
				ListInEditor.innerHTML = "<li class='newElement'></li>"
				li = document.querySelector(".newElement")
				adderElement = -1
			}
			li.classList.add("ElementsInEditor")
			li.style.marginTop = ListOfElements[element].isfunction ? "15px" : "0px"
			li.style.backgroundColor = ListOfElements[element].color
			li.dataset.id = element
			li.dataset.parameter = JSON.stringify(ListOfElements[element].standartParameter)
			li.innerHTML = `<div class="innerOfElement">
							<div class="my-handle" onclick="showBtnElement(event);">
								<span></span>
								<div class="my-handle-inner"></div>
							</div>
							<div class="btn-in-element">
								<div class="btn-delete" onclick="deleteElement(event);">
									<svg class="icon-delete-editor">
										<use xlink:href="#icon-delete"></use>
									</svg>
								</div>
								<div class="btn-delete" onclick="copyElement(event);">
									<svg class="icon-delete-editor">
										<use xlink:href="#icon-copy"></use>
									</svg>
								</div>
								<div class="btn-delete" onclick="pasteElement(event);">
									<svg class="icon-delete-editor">
										<use xlink:href="#icon-paste"></use>
									</svg>
								</div>
							</div>
						<span style="color: black;" class="elementText">
							${ListOfElements[element].text}
						</span>
					</div>
						<span class="EditParameterBtn" onclick="changeParams(event);">
							<svg class="icon-delete-editor">
								<use xlink:href="#icon-edit"></use>
							</svg>
						</span>`

			/* Second Arguments ==========================> */
			if (ListOfElements[element].secondArgument) {
				li.classList.add("start")
				ListOfElements[element].secondArgument.forEach((i, index) => {
					adderElement++
					let addLi = document.createElement("li")
					addLi.classList.add("ElementsInEditor")

					index == ListOfElements[element].secondArgument.length - 1 && addLi.classList.add("finish")
					ListInEditor.children[adderElement].after(addLi)

					addLi.dataset.id = (index == ListOfElements[element].secondArgument.length - 1 ? "AMain" : "CONTI") + String(index) + String(element)
					addLi.dataset.parameter = '"' + String(i.code) + '"'

					addLi.innerHTML = `
									<div class="innerOfElement">
										<span style="margin-left: 38px; color: ${ListOfElements[element].color};" class="elementText">
											${i.text}
										</span>
									</div>`
				})
			}
			saveData()
			setTimeout(() => {
				li.querySelector(".elementText").style.color = ListOfElements[element].color
				li.style.backgroundColor = "transparent"
			}, 10)
			addblocks.classList.remove("active")
			body.classList.remove("no-scroll")
		}

		function closeAddBlockParams() {
			ListAddBlock.innerHTML = ""
			addblocks.classList.remove("active")
			body.classList.remove("no-scroll")
		}

		function deleteElement(event) {
			if (event.target.closest('li').classList.contains("start")) {
				let firstElement = Array.from(ListInEditor.children).findIndex((i) => i == event.target.closest('li'))
				let listDelete = []
				for (let i = firstElement + 1; i < getTheListOfChangeElem(firstElement, 0) + 1; i++) {
					listDelete.push(ListInEditor.children[i])
				}
				listDelete.forEach((i) => i.remove())
			}
			event.target.closest('li').remove()
			saveData()
		}

		function copyElement(event) {
			let element = event.target.closest('li')
			copyList = []
			if (element.classList.contains("start")) {
				let firstElement = Array.from(ListInEditor.children).findIndex((i) => i == element)
				for (let i = firstElement + 1; i < getTheListOfChangeElem(firstElement, 0) + 1; i++) {
					copyList.push(ListInEditor.children[i].cloneNode(true))
				}
			}
			copyList.unshift(element.cloneNode(true))
		}

		function pasteElement(event) {
			if (copyList.length > 0) {
				copyList.forEach((i, index) => {
					const cloneOfElement = i.cloneNode(true)

					if (index === 0) {
						cloneOfElement.style.backgroundColor = ListOfElements[cloneOfElement.dataset.id].color
						cloneOfElement.querySelector('.elementText').style.color = "black"
						setTimeout(() => {
							cloneOfElement.querySelector('.elementText').style.color = ListOfElements[cloneOfElement.dataset.id].color
							cloneOfElement.style.backgroundColor = "transparent"
						}, 0)
					}

					if (cloneOfElement.querySelector(".active")) {
						cloneOfElement.querySelectorAll(".active").forEach((i) => i.classList.remove("active"))
					}

					event.target.closest('li').before(cloneOfElement)

					if (tapElements.includes(String(cloneOfElement.dataset.id))) {
						let parameter = cloneOfElement.dataset.parameter
						let newParameter = JSON.parse(parameter)
						newParameter[1] = ["A" + Date.now() + Math.random().toString(32).slice(4)]
						cloneOfElement.dataset.parameter = JSON.stringify(newParameter)
					}
				})
				saveData()
			}
		}

		function showBtnElement(event) {
			let element = event.target.closest('li')
			if (element) {
				element.querySelector(".btn-in-element").classList.toggle("active")
				element.querySelector(".my-handle-inner").classList.toggle("active")
			}
		}

		function saveData(createCode = false) {
			let a = []
			a.push({
				data: [...listOfData],
				functions: [...listOfFunct],
				name: projectName
			})
			let attachment = 0
			Array.from(ListInEditor.children).forEach((i, index) => {
				if (i.classList.contains("finish")) {
					attachment--
				}

				a.push({
					id: i.dataset.id,
					parameter: JSON.parse(i.dataset.parameter),
					padding: attachment < 6 ? attachment * 20 : 120
				})

				i.style.paddingLeft = a[index + 1].padding + "px"
				if (i.classList.contains("start")) {
					attachment++
				}
			})
			if (ListInEditor.children[0] > 0 && ListOfElements[ListInEditor.children[0].dataset.id].isfunction) {
				ListInEditor.children[0].style.marginTop = "0px"
			}
			try {
				if (createCode) {
					StartView.postMessage(JSON.stringify(a))
				} else {
					SaveDataInFlutter.postMessage(JSON.stringify(a))
				}
			} catch (e) {
				console.log(e)
			}
		}


		function codeCreator() {
			saveData(true)
		}

		function getTheListOfChangeElem(index, attachment) {
			if (ListInEditor.children[index].classList.contains("finish")) {
				attachment--
				if (attachment == 0) {
					return index
				}
			}
			if (ListInEditor.children[index].classList.contains("start")) {
				attachment++
			}
			index++
			return getTheListOfChangeElem(index, attachment)
		}

		function CreateInnerTextOfElement(idOfElement, DataOfElement) {
			let textInEditor = ListOfElements[idOfElement].text
			if (ListOfElements[idOfElement].listChengers) {
				let maxTextWidth = Math.floor((window.screen.availWidth - ListOfElements[idOfElement].text.length * 10) / 17)
				if (!maxTextWidth || maxTextWidth < 2) {
					maxTextWidth = 2
				}
				for (let i = 0; i < ListOfElements[idOfElement].listChengers.length; i++) {
					if (DataOfElement[i].length <= 0) {
						DataOfElement[i] = ListOfElements[idOfElement].standartParameter[i]
					}
					let realChenge = DataOfElement[i].reduce((a, b) => a + b).slice(0, maxTextWidth)
					textInEditor = textInEditor.replace(ListOfElements[idOfElement].listChengers[i], realChenge)
				}
			}
			return textInEditor
		}

		let listOfchangeElemnents = []
		let sortable = Sortable.create(ListInEditor, {
			handle: '.my-handle-inner',
			animation: 150,
			filter: '.filtered',
			fallbackTolerance: 5,
			touchStartThreshold: 4,
			onStart: (evt) => {
				if (evt.item.classList.contains("start")) {
					listOfchangeElemnents = []
					for (let i = evt.oldIndex + 1; i < getTheListOfChangeElem(evt.oldIndex, 0) + 1; i++) {
						listOfchangeElemnents.push(ListInEditor.children[i])
						ListInEditor.children[i].style.display = "none"
					}
				}
			},
			onEnd: (evt) => {
				if (evt.newIndex == 0 && ListInEditor.children[0]) {
					ListOfElements[ListInEditor.children[0].dataset.id].isfunction ? ListInEditor.children[1].style.marginTop = "15px" : ""
				}
				if (evt.item.classList.contains("start")) {
					if (ListOfElements[evt.item.dataset.id].isfunction) {
						evt.item.style.marginTop = "15px"
					}
					listOfchangeElemnents.reverse()
					listOfchangeElemnents.forEach((i) => {
						evt.item.after(i)
						i.style.display = "flex"
					})
					listOfchangeElemnents = []
				}
			},
			store: {
				set: function (sortable) {
					/* Save Data */
					saveData()
				}
			}
		})
	</script>





	<script>

		/* ============================================ Code for Edit Params */
		const editparams = document.querySelector('#editparams')
		const where = editparams.querySelector('#inner-where')   /* place, where button of params are showing */
		const result = editparams.querySelector('#result')			 /* show the formula */
		const dataList = editparams.querySelector('#dataList') 	 /* data List in formuls*/
		const functList = editparams.querySelector('#functList') /* function List in formuls*/
		const modalInput = document.querySelector("#modal-window")/* Modal Window to show alerts */


		document.querySelector('#tree').onclick = (event) => {
			if (event.target.classList.contains("mainLi")) {
				event.target.classList.toggle("LiAfterTap")
			}
		}

		// Create variable =============================>

		let TextInWhereOnStart = "" /* where inner text */
		let listOfChageParams = [] 	/* list of the chengers */

		let List = [] 							/* Array of paramaters */
		let listOfParams = [] 			/* Array of data in one pramater */
		let position = 0 						/* Where the mouse now */
		let whichPosition = 0 			/* Number of element in List, which is editing*/
		let editingElement = 0		  /* Element that editing now in html*/
		let idOfElement = 0 				/* Id of editing element*/


		function changeParams(event) {
			whichPosition = 0
			editingElement = event.target.closest(".ElementsInEditor")
			idOfElement = editingElement.dataset.id


			if (!ListOfElements[idOfElement].listChengers) {
				/*===== Element is not have parameter (return, continue) */
				return
			}


			TextInWhereOnStart = ListOfElements[idOfElement].text
			if (ListOfElements[idOfElement].textInWhere) {
				/*===== Sometime the text of Element is more longer than right version */
				TextInWhereOnStart = ListOfElements[idOfElement].textInWhere
			}


			listOfChageParams = ListOfElements[idOfElement].listChengers
			List = JSON.parse(editingElement.dataset.parameter)
			if (listOfChageParams.length > List.length) {
				/*===== New version can have more element in listOfChageParams */
				if (!List) {
					List = []
				}
				for (let i = 0; i < listOfChageParams.length - List.length; i++) {
					List.push(ListOfElements[idOfElement].standartParameter[List.length + i])
				}
			}

			where.scrollTo(0, 0)
			document.querySelector('#tree').scrollTo(0, 0)

			onStart()

			/* close all element in formulas */
			document.querySelectorAll(".LiAfterTap").forEach((i) => i.classList.remove("LiAfterTap"))

			/* Add style to where */
			editparams.querySelector('#where').style.backgroundColor = ListOfElements[idOfElement].color
			if (editparams.querySelector('#eventList')) { editparams.querySelector('#eventList').remove() }

			/* >==>==> if we work with mouse or touch  */
			if (event.target.closest(".ElementsInEditor").style.paddincolisionWithTouchgLeft !== "0px") {
				if (getFirstElement(Array.from(ListInEditor.children).indexOf(event.target.closest(".ElementsInEditor")) - 1)) {
					let li = document.createElement("li")
					li.classList.add("mainLi")
					li.id = "eventList"
					li.innerHTML = `MouseEvent
						<ul>
							<li onclick="tapOfFunctionBtn(0,'MousePosition','.x');">mouse X</li>
							<li onclick="tapOfFunctionBtn(0, 'MousePosition','.y');">mouse Y</li>
							<li onclick="tapOfFunctionBtn(1, 'colisionWithTouch({ MousePosition, object: ', '})');">
							colisionWithTouch</li>
							<li onclick="tapofbtn('event.type');">TypeOfClick</li>
							<li onclick="tapofbtn('event.target');">Target</li>
							<li onclick="tapofbtn('tappedElement');">tappedElement</li>
						</ul>`
					editparams.querySelector('#tree').prepend(li)
				}
			}
			editparams.classList.add("active")
			body.classList.add("no-scroll")
		}

		// Different Function ===================>
		function showMessege({ text = 'Enter Text', defaultValue = '' }) {
			if (modalInput.open) return
			modalInput.showModal()
			if (text.startsWith('Delete')) {
				modalInput.querySelector("h1").style.display = 'block'
				modalInput.querySelector(".input-text-container").style.display = 'none'
				modalInput.querySelector("h1").innerHTML = text
			} else {
				modalInput.querySelector("h1").style.display = 'none'
				modalInput.querySelector(".input-text-container").style.display = 'block'
				modalInput.querySelector("label").innerHTML = text
			}

			modalInput.querySelector("input").value = defaultValue

			modalInput.classList.add("show-modal");
		}

		function addColor() {
			tapofbtn('"' + editparams.querySelector('#color-picker').value + '"')
		}

		function getFirstElement(index) {
			if (index < 0) {
				return false
			}
			if (ListInEditor.children[index].style.paddingLeft == "0px") {
				let element = ListInEditor.children[index].dataset.id
				return tapElements.includes(String(element)) ? true : false
			} else {
				return getFirstElement(index - 1)
			}
		}

		function closeEditParams() {
			editparams.classList.remove("active")
			body.classList.remove("no-scroll")
		}

		function createVarieble(isData) {
			event.stopPropagation()
			let resultat = showMessege(
				{ text: isData ? 'Create Data' : 'Create Function', defaultValue: '' }
			)
			modalInput.querySelector("#ok-btn").onclick = () => {
				let userAnswer = modalInput.querySelector("input").value.slice(0, 10)
				userAnswer = userAnswer.replace(/\s/g, '')
				if (!userAnswer) return false

				let inputPlaceholder = false
				if (listOfData.includes(userAnswer)) {
					inputPlaceholder = 'ALREADY EXISTS'
				}
				if (/[0-9]/gm.test(userAnswer[0])) {
					inputPlaceholder = 'Starts with a number'
				}
				if (userAnswer.match(/[^A-Za-z0-9]/gm)) {
					inputPlaceholder = 'Latin letters and numbers'
				}
				if (inputPlaceholder) {
					modalInput.querySelector("label").innerHTML = inputPlaceholder;
					return false
				}

				(isData ? listOfData : listOfFunct).push(String(userAnswer))
				chengeDataList(isData)
			}
			modalInput.querySelector("input").maxLength = 10
		}

		function daleteVarOrFunc(isData, element) {
			showMessege({ text: `Delete ${element}?`, defaultValue: 'empty' })
			modalInput.querySelector("#ok-btn").onclick = () => {
				let listh = isData ? listOfData : listOfFunct
				listh.splice(listh.indexOf(element), 1)
				chengeDataList(isData)
				saveData()
			}
		}

		function chengeDataList(isData) {
			let resultat = (isData ? listOfData : listOfFunct).reduce((a, b) => {
				return a + `<li>
						<span class="nameOfvarieble" onclick="tapofbtn('${b}'); event.stopPropagation();">${b}</span>
						<span class="btn-delete" onclick="daleteVarOrFunc(${isData}, '${b}'); event.stopPropagation();">
								<svg class="icon-delete-editor">
									<use xlink:href="#icon-delete"></use>
								</svg>
						</span>
						</li>`
			}, '')
			if (isData) {
				resultat += '<li style="color: #777; display: block;" onclick="createVarieble(true)">+Create</li>'
				dataList.innerHTML = resultat
			} else {
				resultat += '<li style="color: #777; display: block;" onclick="createVarieble(false)">+Create</li>'
				functList.innerHTML = resultat
			}
		}

		function setTextInWhere() {
			let resultat = TextInWhereOnStart
			let realChenge = []
			for (let i = 0; i < listOfChageParams.length; i++) {
				resultat = resultat.replace(listOfChageParams[i], `<button class="whereBtn" onClick = "newParameter(${i});" ${i == whichPosition && 'style="background-color: #c5c5c580;"'} > </button >`)
				if (List[i].length > 0) {
					realChenge.push(List[i].reduce((a, b) => a + b))
				} else {
					realChenge.push(' ')
				}
			}
			where.innerHTML = resultat
			let whereBtns = document.querySelectorAll('.whereBtn')
			whereBtns.forEach((i, index) => i.textContent = realChenge[index])
		}

		function changeText() {
			let textFromList = ""
			if (listOfParams.length > 0) {
				let textFromList = listOfParams.reduce((a, b, i) => {
					let c = ""
					if (i == 0 && position == 0) {
						return c = "|" + String(b)
					}
					c = String(a) + String(b)
					if (i + 1 == position) {
						c += "|"
					}
					return c
				}, '')
				result.textContent = textFromList
			} else {
				result.textContent = '|'
			}

			List[whichPosition] = listOfParams
			setTextInWhere()
			return textFromList
		}

		function newParameter(parameter) {
			if (parameter !== whichPosition) {
				whichPosition = parameter
				onStart()
			}
		}

		function addTextOrCode(isText) {
			let defaultParameter = ''
			if (position < listOfParams.length) {
				if (isText && listOfParams[position].startsWith('"')) {
					defaultParameter = listOfParams[position].slice(1, -1)
				} else
					if (!isText && listOfParams[position].startsWith(" ")) {
						defaultParameter = listOfParams[position].substring(1)
					}
			}
			modalInput.querySelector("input").maxLength = 221244
			modalInput.querySelector("#ok-btn").onclick = () => {
				let userAnswer = modalInput.querySelector("input").value
				if (!userAnswer) {
					return false;
				}
				let numberOfDelate = 0
				if (defaultParameter.length > 0) {
					numberOfDelate = 1
				}
				listOfParams.splice(position, numberOfDelate, isText ? '"' + userAnswer + '"' : " " + userAnswer)
				position++
				changeText()
			}
			showMessege(
				{
					text: isText ? 'Enter Text' : 'Write Code',
					defaultValue: defaultParameter
				}
			)
		}

		function tapOfFunctionBtn() {
			event.stopPropagation()
			for (let index = 1; index < arguments.length; index++) {
				listOfParams.splice(position, 0, arguments[index])
				position++
			}
			position -= arguments[0]
			changeText()
		}

		function tapofbtn(text) {
			event.stopPropagation()
			switch (text) {
				case "@0left**":
					if (position > 0) {
						position--
					} else {
						position = 0
					}
					break
				case "@0right**":
					if (position < listOfParams.length) {
						position++
					} else {
						position = listOfParams.length
					}
					break
				case "@0Text**":
					addTextOrCode(true)
					break
				case "@0Code**":
					addTextOrCode(false)
					break
				case "@0delete**":
					if (listOfParams.length > 0) {
						if (position > 0) {
							listOfParams.splice(position - 1, 1)
							position--
						}
					} else {
						listOfParams = []
						position = 0
					}
					break
				case "@0Ok**":
					editingElement.dataset.parameter = JSON.stringify(List)
					editingElement.querySelector(".elementText").textContent = CreateInnerTextOfElement(idOfElement, List)
					saveData()
					closeEditParams()
					break
				default:
					listOfParams.splice(position, 0, text)
					position++
					break
			}
			changeText()
		}

		function onStart() {
			listOfParams = List[whichPosition]
			position = listOfParams.length
			chengeDataList(true)
			chengeDataList(false)
			changeText()
		}
	</script>
</body>

</html>